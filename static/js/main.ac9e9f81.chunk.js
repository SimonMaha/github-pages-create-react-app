(this.webpackJsonpannouncement=this.webpackJsonpannouncement||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(9),c=n(1),r=n(2),s=n(5),o=n(4),u=n(3),d=n(6),m=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.announcement,n=e.deleteClick,a=e.editClick,l=e.openClick,c=e.isOpen,r=e.allAnnoucements,s=c?this.calculateSimilarAnnouncements(t,r):[],o=c&&i.a.createElement("div",{className:"card-body"},i.a.createElement("h6",{className:"card-subtitle text-muted"},"creation date: ",new Date(t.date).toDateString()),i.a.createElement("section",{className:"card-text"},t.description),s.length>0&&i.a.createElement("div",null,"Similar:",s.map((function(e,t){return i.a.createElement("p",null,e.title)}))),i.a.createElement("button",{className:"btn btn-info",onClick:function(e){a(e,t)}},"Edit"),i.a.createElement("button",{className:"btn btn-danger",onClick:function(e){n(e,t)}},"Delete"));return i.a.createElement("div",{className:"card mx-auto",style:{width:"50%"}},i.a.createElement("div",{className:"card-header",onClick:l},i.a.createElement("h2",null,t.title)),o)}},{key:"calculateSimilarAnnouncements",value:function(e,t){var n,a=[],i=e.title.split(" "),l=e.description.split(" "),c=Object(d.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;if(r.id!==e.id){var s,o=r.title.split(" "),u=r.description.split(" "),m=!1,h=Object(d.a)(o);try{for(h.s();!(s=h.n()).done;){var p=s.value;if(i.includes(p)){m=!0;break}}}catch(v){h.e(v)}finally{h.f()}if(!m)return!1;var f,b=Object(d.a)(u);try{for(b.s();!(f=b.n()).done;){p=f.value;if(l.includes(p)){a.push(r);break}}}catch(v){b.e(v)}finally{b.f()}if(3===a.length)return a}}}catch(v){c.e(v)}finally{c.f()}return a}}]),n}(a.PureComponent),h=(n(17),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={openAnnouncementId:null},e.handleClick=function(t){return e.setState({openAnnouncementId:e.state.openAnnouncementId===t?null:t})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.deleteClick,n=this.props.editClick,a=this.props.announcements.map((function(a,l){return i.a.createElement("li",{key:a.id,className:"announcement-list__li"},i.a.createElement(m,{announcement:a,deleteClick:t,editClick:n,openClick:e.handleClick.bind(e,a.id),isOpen:e.state.openAnnouncementId===a.id,allAnnoucements:e.props.announcements}))}));return i.a.createElement("ul",null,a)}}]),n}(a.PureComponent)),p=n(10),f=(n(8),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={title:"",description:""},a.handleInputChange=a.handleInputChange.bind(Object(s.a)(a)),a}return Object(r.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name;this.setState(Object(p.a)({},n,t))}},{key:"clearFields",value:function(){this.setState((function(e){return{title:"",description:""}}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.item&&!e.item&&this.setState((function(e){return{title:t.props.item.title,description:t.props.item.description}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onAddClick,a=t.item;return i.a.createElement("div",{className:""},i.a.createElement("h2",{className:"display-5 text-center"},"New Announcement"),i.a.createElement("form",{className:"justify-content-center form-inline",onSubmit:function(t){n(t,e.state.title,e.state.description,a),e.clearFields()}},i.a.createElement("label",{className:"marginLeft",htmlFor:"add-title"},"Title"),i.a.createElement("input",{className:"marginLeft",id:"add-title",name:"title",onChange:this.handleInputChange,value:this.state.title}),i.a.createElement("label",{className:"marginLeft",htmlFor:"add-description"},"Description"),i.a.createElement("input",{className:"marginLeft",id:"add-description",name:"description",onChange:this.handleInputChange,value:this.state.description}),i.a.createElement("button",{className:"btn btn-primary marginLeft"},a?"Edit":"Add")))}}]),n}(a.PureComponent)),b=(n(18),n(11)),v=n.n(b),k=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={announcements:[],editedItem:null,searchValue:""},a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.handleDelete=a.handleDelete.bind(Object(s.a)(a)),a.editClick=a.editClick.bind(Object(s.a)(a)),a}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state.announcements.filter((function(t){return t.title.toLowerCase().indexOf(e.state.searchValue.toLowerCase())>=0})),n=this.state.searchValue.length>0?t:this.state.announcements;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"jumbotron"},i.a.createElement("h1",{className:"display-3 text-center"},"Announcement Website")),i.a.createElement("div",{className:"text-center"},i.a.createElement("label",{htmlFor:"search-by-title"},"Search"),i.a.createElement("input",{className:"marginLeft",id:"search-by-title",name:"search",onChange:function(t){e.setState({searchValue:t.target.value})},value:this.state.searchValue})),i.a.createElement(h,{announcements:n,deleteClick:function(t,n){return e.handleDelete(t,n)},editClick:function(t,n){return e.editClick(t,n)}}),i.a.createElement(f,{onAddClick:this.handleSubmit,item:this.state.editedItem}))}},{key:"editClick",value:function(e,t){e.preventDefault(),this.setState({editedItem:t})}},{key:"handleSubmit",value:function(e,t,n,a){if(e.preventDefault(),0!==t.length&&0!==n.length)if(null===a){var i={title:t,description:n,id:v()(),date:Date.now()};this.setState((function(e){return{announcements:e.announcements.concat(i)}}))}else{var l=this.state.announcements,c=a,r=l.indexOf(c);c.title=t,c.description=n,l.splice(r,1,c),this.setState((function(e){return{announcements:l,editedItem:null}})),this.forceUpdate()}}},{key:"handleDelete",value:function(e,t){e.preventDefault(),console.log("delete");var n=this.state.announcements,a=n.indexOf(t);console.log(t),console.log(a),n.splice(a,1),this.setState((function(e){return{announcements:n}})),this.forceUpdate()}}]),n}(a.PureComponent);Object(l.render)(i.a.createElement(k,null),document.getElementById("root"))},8:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.ac9e9f81.chunk.js.map