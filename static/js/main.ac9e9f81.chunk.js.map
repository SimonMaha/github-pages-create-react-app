{"version":3,"sources":["components/Announcement.js","components/AnnouncementList/index.js","components/ChangeForm.js","components/App.js","index.js"],"names":["Announcement","this","props","announcement","deleteClick","editClick","openClick","isOpen","allAnnoucements","similarAnnoucements","calculateSimilarAnnouncements","body","className","Date","date","toDateString","description","length","map","index","title","onClick","e","style","width","similars","currentTitleWords","split","currentDescriptionWords","x","id","xTitleWords","xDescriptionWords","xTitleExist","item","includes","push","PureComponent","AnnouncementList","state","openAnnouncementId","handleClick","setState","announcementElements","announcements","key","bind","ChangeForm","handleInputChange","event","value","target","name","prevProps","onAddClick","onSubmit","clearFields","htmlFor","onChange","App","editedItem","searchValue","handleSubmit","handleDelete","curAnnouncement","filter","toLowerCase","indexOf","filteredAnnouncements","preventDefault","newItem","nextId","now","concat","announcementItem","splice","forceUpdate","console","log","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac9e9f81.chunk.js","sourcesContent":["import React, {PureComponent} from 'react'\r\n\r\nclass Announcement extends PureComponent {\r\n    render() {\r\n        const {announcement, deleteClick, editClick, openClick, isOpen, allAnnoucements} = this.props;\r\n        var similarAnnoucements = isOpen ? this.calculateSimilarAnnouncements(announcement, allAnnoucements) : [];\r\n        const body = isOpen && <div className=\"card-body\">\r\n            <h6 className=\"card-subtitle text-muted\">\r\n                creation date: {(new Date(announcement.date)).toDateString()}\r\n            </h6>\r\n            <section className=\"card-text\">{announcement.description}</section>\r\n            {similarAnnoucements.length > 0 &&\r\n            <div>\r\n              Similar:\r\n              {similarAnnoucements.map((announcement, index) =>\r\n                  <p>{announcement.title}</p>)}\r\n            </div>}\r\n            <button className=\"btn btn-info\" onClick={(e) => {editClick(e, announcement)}}>\r\n              Edit\r\n            </button>\r\n            <button className=\"btn btn-danger\" onClick={(e) => {deleteClick(e, announcement)}}>\r\n              Delete\r\n            </button>\r\n        </div>\r\n        return (\r\n            <div className=\"card mx-auto\" style = {{width: '50%'}}>\r\n                <div className=\"card-header\" onClick={openClick}>\r\n                    <h2>\r\n                        {announcement.title}\r\n                    </h2>\r\n                </div>\r\n                {body}\r\n            </div>\r\n        )\r\n    }\r\n    calculateSimilarAnnouncements(announcement, allAnnoucements){\r\n      var similars = [];\r\n      var currentTitleWords = announcement.title.split(\" \");\r\n      var currentDescriptionWords = announcement.description.split(\" \");\r\n      for (var x of allAnnoucements) {\r\n        if (x.id === announcement.id) {\r\n          continue;\r\n        }\r\n        var xTitleWords = x.title.split(\" \");\r\n        var xDescriptionWords = x.description.split(\" \");\r\n        var xTitleExist = false;\r\n        for (var item of xTitleWords) {\r\n          if (currentTitleWords.includes(item)) {\r\n            xTitleExist = true;\r\n            break;\r\n          }\r\n        }\r\n        if (!xTitleExist) {\r\n          return false;\r\n        }\r\n        for (var item of xDescriptionWords) {\r\n          if (currentDescriptionWords.includes(item)) {\r\n            similars.push(x);\r\n            break;\r\n          }\r\n        }\r\n        if (similars.length === 3) {\r\n          return similars;\r\n        }\r\n      }\r\n      return similars;\r\n    }\r\n}\r\nexport default Announcement\r\n","import React, {PureComponent} from 'react'\r\nimport Announcement from '../Announcement'\r\nimport './style.css'\r\n\r\nexport default class AnnouncementList extends PureComponent {\r\n    state = {\r\n        openAnnouncementId: null\r\n    }\r\n    render() {\r\n        const deleteClick = this.props.deleteClick;\r\n        const editClick = this.props.editClick;\r\n        const announcementElements = this.props.announcements.map((announcement, index) =>\r\n            <li key = {announcement.id} className=\"announcement-list__li\">\r\n                <Announcement announcement = {announcement}\r\n                              deleteClick = {deleteClick}\r\n                              editClick = {editClick}\r\n                              openClick = {this.handleClick.bind(this, announcement.id)}\r\n                              isOpen= {this.state.openAnnouncementId === announcement.id}\r\n                              allAnnoucements = {this.props.announcements}/>\r\n            </li>\r\n        )\r\n        return (\r\n            <ul>\r\n                {announcementElements}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    handleClick = openAnnouncementId => this.setState({\r\n        openAnnouncementId: this.state.openAnnouncementId === openAnnouncementId ? null : openAnnouncementId\r\n    })\r\n}\r\n","import React, {PureComponent} from 'react'\r\nimport './style.css'\r\n\r\nexport default class ChangeForm extends PureComponent {\r\n      constructor(props) {\r\n      super(props);\r\n      this.state = {title: '',  description: ''};\r\n      this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n    handleInputChange(event) {\r\n      const value = event.target.value;\r\n      const name = event.target.name;\r\n\r\n      this.setState({\r\n        [name]: value\r\n      });\r\n    }\r\n    clearFields(){\r\n      this.setState(state => ({\r\n        title: '',\r\n        description: '',\r\n      }));\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.item && !prevProps.item) {\r\n          this.setState(state => ({\r\n            title: this.props.item.title,\r\n            description: this.props.item.description,\r\n          }));\r\n        }\r\n    }\r\n    render() {\r\n      const {onAddClick, item} = this.props\r\n      return  (\r\n        <div className=\"\">\r\n          <h2 className=\"display-5 text-center\">\r\n            New Announcement\r\n          </h2>\r\n          <form className=\"justify-content-center form-inline\"\r\n            onSubmit={(e)=>{onAddClick(e, this.state.title, this.state.description, item);\r\n            this.clearFields()}}>\r\n              <label className=\"marginLeft\" htmlFor=\"add-title\">\r\n                Title\r\n              </label>\r\n              <input className=\"marginLeft\"\r\n                id=\"add-title\"\r\n                name=\"title\"\r\n                onChange={this.handleInputChange}\r\n                value={this.state.title}/>\r\n              <label className=\"marginLeft\" htmlFor=\"add-description\">\r\n                Description\r\n              </label>\r\n              <input className=\"marginLeft\"\r\n                id=\"add-description\"\r\n                name=\"description\"\r\n                onChange={this.handleInputChange}\r\n                value={this.state.description}/>\r\n              <button className=\"btn btn-primary marginLeft\">\r\n                {item? \"Edit\":\"Add\"}\r\n              </button>\r\n          </form>\r\n        </div>\r\n      )\r\n    }\r\n}\r\n","import React, {PureComponent} from 'react'\r\nimport AnnouncementList from './AnnouncementList'\r\nimport ChangeForm from './ChangeForm'\r\nimport 'bootstrap/css/bootstrap.css'\r\nimport './style.css'\r\nimport nextId from 'react-id-generator'\r\n\r\nclass App extends PureComponent {\r\n      constructor(props) {\r\n      super(props);\r\n      this.state = { announcements: [], editedItem: null, searchValue: \"\"};\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n      this.handleDelete = this.handleDelete.bind(this);\r\n      this.editClick = this.editClick.bind(this);\r\n    }\r\n    render() {\r\n        const curAnnouncement = this.state.announcements.filter(x => x.title.toLowerCase().indexOf(this.state.searchValue.toLowerCase()) >= 0 );\r\n        var filteredAnnouncements = this.state.searchValue.length > 0 ? curAnnouncement : this.state.announcements;\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"jumbotron\">\r\n                    <h1 className=\"display-3 text-center\">\r\n                        Announcement Website\r\n                    </h1>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <label htmlFor=\"search-by-title\">\r\n                    Search\r\n                  </label>\r\n                  <input className=\"marginLeft\"\r\n                    id=\"search-by-title\"\r\n                    name=\"search\"\r\n                    onChange={(event) => {this.setState({searchValue: event.target.value})}}\r\n                    value={this.state.searchValue}/>\r\n                </div>\r\n                <AnnouncementList announcements={filteredAnnouncements}\r\n                                  deleteClick={(e, item) => this.handleDelete(e, item)}\r\n                                  editClick={(e, item) => this.editClick(e, item)}/>\r\n                <ChangeForm onAddClick={this.handleSubmit} item={this.state.editedItem}/>\r\n            </div>\r\n        )\r\n    }\r\n    editClick(e, item){\r\n      e.preventDefault();\r\n      this.setState({editedItem: item})\r\n    }\r\n\r\n    handleSubmit(e, title, description, item) {\r\n      e.preventDefault();\r\n      if (title.length === 0 || description.length === 0) {\r\n        return;\r\n      }\r\n      if (item === null) {\r\n        const newItem = {\r\n          title: title,\r\n          description: description,\r\n          id: nextId(),\r\n          date: Date.now()\r\n        };\r\n        this.setState(state => ({\r\n          announcements: state.announcements.concat(newItem)\r\n        }));\r\n      }\r\n      else {\r\n        var announcements = this.state.announcements;\r\n        var announcementItem = item;\r\n        var index = announcements.indexOf(announcementItem);\r\n        announcementItem.title = title;\r\n        announcementItem.description = description;\r\n        announcements.splice(index, 1, announcementItem);\r\n        this.setState(state => ({\r\n          announcements: announcements,\r\n          editedItem: null\r\n        }));\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n\r\n    handleDelete(e, item){\r\n      e.preventDefault();\r\n      console.log(\"delete\");\r\n      var announcements = this.state.announcements;\r\n      var index = announcements.indexOf(item)\r\n      console.log(item);\r\n      console.log(index);\r\n      announcements.splice(index, 1);\r\n      this.setState(state =>({ announcements: announcements }));\r\n      this.forceUpdate()\r\n    }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport {render} from 'react-dom'\r\nimport App from './components/App'\r\n\r\nrender(<App/>, document.getElementById('root'))"],"sourceRoot":""}